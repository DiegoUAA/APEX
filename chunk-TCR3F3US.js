import{e as V,g as D}from"./chunk-FAR7LYAW.js";import{b as I,f as N,i as j,q as B}from"./chunk-E5OH23D5.js";import"./chunk-62FVUIO5.js";import{a as W,i as J}from"./chunk-RMIJC4BU.js";import{$a as m,$b as w,Cb as x,Db as M,Eb as f,Fb as b,Gb as c,Hb as l,Ib as $,Kb as g,Mb as p,Nb as i,Oc as A,Qc as F,Zb as d,_b as y,a as v,b as P,bc as E,c as h,cc as O,dc as k,ja as _,ka as s,lb as T,lc as S,mc as z,qb as C}from"./chunk-RNRL7HBI.js";var Y=(n,e)=>e.id;function q(n,e){if(n&1){let t=g();c(0,"input",4),k("ngModelChange",function(r){_(t);let a=i().$implicit,u=i(2).$implicit;return O(u[a],r)||(u[a]=r),s(r)}),l()}if(n&2){let t=i().$implicit,o=i(2).$implicit;E("ngModel",o[t])}}function G(n,e){if(n&1&&(c(0,"div")(1,"label"),d(2),l(),C(3,q,1,1,"input",3),l()),n&2){let t=e.$implicit;m(2),w("",t,":"),m(),x(t!=="isEditing"?3:-1)}}function L(n,e){if(n&1){let t=g();c(0,"div"),f(1,G,4,2,"div",null,M),c(3,"button",1),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.saveCotizacion(r))}),d(4," Guardar "),l(),c(5,"button",2),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.cancelEditCotizacion(r))}),d(6," Cancelar "),l()()}if(n&2){let t=i().$implicit,o=i(2);m(),b(o.cotizacionKeys(t))}}function R(n,e){if(n&1){let t=g();c(0,"pre"),d(1),S(2,"json"),l(),c(3,"button",5),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.editCotizacion(r))}),d(4," Editar "),l(),c(5,"button",2),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.deleteCotizacion(r))}),d(6," Eliminar "),l()}if(n&2){let t=i().$implicit;m(),y(z(2,1,t))}}function H(n,e){if(n&1&&(c(0,"mat-card",0),C(1,L,7,0,"div")(2,R,7,3),l()),n&2){let t=e.$implicit;m(),x(t.isEditing?1:2)}}function Q(n,e){if(n&1&&(c(0,"div"),f(1,H,3,1,"mat-card",0,Y),l()),n&2){let t=i();m(),b(t.cotizaciones)}}function U(n,e){n&1&&(c(0,"p"),d(1,"No hay cotizaciones registradas."),l())}function X(n,e){if(n&1){let t=g();c(0,"input",4),k("ngModelChange",function(r){_(t);let a=i().$implicit,u=i(2).$implicit;return O(u[a],r)||(u[a]=r),s(r)}),l()}if(n&2){let t=i().$implicit,o=i(2).$implicit;E("ngModel",o[t])}}function Z(n,e){if(n&1&&(c(0,"div")(1,"label"),d(2),l(),C(3,X,1,1,"input",3),l()),n&2){let t=e.$implicit;m(2),w("",t,":"),m(),x(t!=="isEditing"?3:-1)}}function tt(n,e){if(n&1){let t=g();c(0,"div"),f(1,Z,4,2,"div",null,M),c(3,"button",1),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.saveContacto(r))}),d(4," Guardar "),l(),c(5,"button",2),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.cancelEditContacto(r))}),d(6," Cancelar "),l()()}if(n&2){let t=i().$implicit,o=i(2);m(),b(o.cotizacionKeys(t))}}function nt(n,e){if(n&1){let t=g();c(0,"pre"),d(1),S(2,"json"),l(),c(3,"button",5),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.editContacto(r))}),d(4," Editar "),l(),c(5,"button",2),p("click",function(){_(t);let r=i().$index,a=i(2);return s(a.deleteContacto(r))}),d(6," Eliminar "),l()}if(n&2){let t=i().$implicit;m(),y(z(2,1,t))}}function et(n,e){if(n&1&&(c(0,"mat-card",0),C(1,tt,7,0,"div")(2,nt,7,3),l()),n&2){let t=e.$implicit;m(),x(t.isEditing?1:2)}}function it(n,e){if(n&1&&(c(0,"div"),f(1,et,3,1,"mat-card",0,Y),l()),n&2){let t=i();m(),b(t.contactos)}}function ot(n,e){n&1&&(c(0,"p"),d(1,"No hay contactos registrados."),l())}var K=class n{cotizaciones=[];contactos=[];constructor(){this.loadData()}loadData(){let e=JSON.parse(localStorage.getItem("quotes")||"[]"),t=JSON.parse(localStorage.getItem("contacts")||"[]");this.cotizaciones=e.map(o=>P(v({},o),{isEditing:!1})),this.contactos=t.map(o=>P(v({},o),{isEditing:!1}))}saveCotizaciones(){let e=this.cotizaciones.map(r=>{var a=r,{isEditing:t}=a,o=h(a,["isEditing"]);return o});localStorage.setItem("quotes",JSON.stringify(e))}saveContactos(){let e=this.contactos.map(r=>{var a=r,{isEditing:t}=a,o=h(a,["isEditing"]);return o});localStorage.setItem("contacts",JSON.stringify(e))}deleteCotizacion(e){this.cotizaciones.splice(e,1),this.saveCotizaciones(),this.loadData()}deleteContacto(e){this.contactos.splice(e,1),this.saveContactos(),this.loadData()}editCotizacion(e){this.cotizaciones[e].isEditing=!0}saveCotizacion(e){this.cotizaciones[e].isEditing=!1,this.saveCotizaciones(),this.loadData()}cancelEditCotizacion(e){this.loadData()}editContacto(e){this.contactos[e].isEditing=!0}saveContacto(e){this.contactos[e].isEditing=!1,this.saveContactos(),this.loadData()}cancelEditContacto(e){this.loadData()}cotizacionKeys(e){return Object.keys(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-admin-panel"]],decls:9,vars:2,consts:[[1,"admin-card"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"],[3,"ngModel"],[3,"ngModelChange","ngModel"],["mat-button","","color","primary",3,"click"]],template:function(t,o){t&1&&(c(0,"h2"),d(1,"Cotizaciones"),l(),C(2,Q,3,0,"div")(3,U,2,0,"p"),$(4,"hr"),c(5,"h2"),d(6,"Solicitudes de Contacto"),l(),C(7,it,3,0,"div")(8,ot,2,0,"p")),t&2&&(m(2),x(o.cotizaciones.length>0?2:3),m(5),x(o.contactos.length>0?7:8))},dependencies:[F,A,J,W,D,V,B,I,N,j],styles:['.admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.admin-title[_ngcontent-%COMP%]{color:var(--accent-color);font-size:2.2rem;font-weight:600;margin:0;letter-spacing:-.5px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.admin-card[_ngcontent-%COMP%]{background-color:var(--card-bg);border-radius:12px;padding:2rem;margin-bottom:1.5rem;box-shadow:var(--elevation-1);border:1px solid var(--border-color);transition:all .3s ease;position:relative;overflow:hidden}.admin-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(to bottom,var(--accent-color),transparent);opacity:0;transition:opacity .3s ease}.admin-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--elevation-3);border-color:var(--accent-color)}.admin-card[_ngcontent-%COMP%]:hover:before{opacity:1}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.card-title[_ngcontent-%COMP%]{color:var(--text-color);font-size:1.5rem;font-weight:500;margin:0}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}button.mat-button[_ngcontent-%COMP%]{border-radius:8px;padding:.5rem 1.25rem;font-weight:500;letter-spacing:.5px;transition:all .3s ease!important}button.mat-button[_ngcontent-%COMP%]:not([color]){border:1px solid var(--border-color);color:var(--text-color);background-color:transparent}button.mat-button[_ngcontent-%COMP%]:not([color]):hover{background-color:var(--hover-color);border-color:var(--accent-color);color:var(--accent-color)}button.mat-button[color=primary][_ngcontent-%COMP%]{background-color:#4caf501a;border:1px solid #4caf50;color:#4caf50}button.mat-button[color=primary][_ngcontent-%COMP%]:hover{background-color:#4caf5033;transform:translateY(-2px);box-shadow:0 4px 8px #4caf501a}button.mat-button[color=warn][_ngcontent-%COMP%]{background-color:#f443361a;border:1px solid #f44336;color:#f44336}button.mat-button[color=warn][_ngcontent-%COMP%]:hover{background-color:#f4433633;transform:translateY(-2px);box-shadow:0 4px 8px #f443361a}.card-content[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.7}.data-display[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9rem;background-color:var(--primary-color);padding:1.5rem;border-radius:8px;color:var(--text-secondary);margin-top:1.5rem;overflow-x:auto;border:1px solid var(--border-color)}.data-key[_ngcontent-%COMP%]{color:var(--accent-color)}.data-string[_ngcontent-%COMP%]{color:#a5d8ff}.data-number[_ngcontent-%COMP%]{color:#4caf50}.data-boolean[_ngcontent-%COMP%]{color:#ff9800}.data-null[_ngcontent-%COMP%]{color:#f44336}.admin-search[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;align-items:center}.search-field[_ngcontent-%COMP%]{flex:1}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-color)}@media (max-width: 1024px){.admin-container[_ngcontent-%COMP%]{padding:0 1.5rem}.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:0 1rem}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.card-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.admin-search[_ngcontent-%COMP%]{flex-direction:column}.search-field[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.admin-title[_ngcontent-%COMP%]{font-size:1.8rem}.admin-card[_ngcontent-%COMP%]{padding:1.5rem}.card-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}}']})};export{K as AdminPanelComponent};
